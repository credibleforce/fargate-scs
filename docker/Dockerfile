FROM splunk/scs:latest

ENV SPLUNK_HEC_URL=YOUR_HEC_URL_HERE
ENV SPLUNK_HEC_TOKEN=YOUR_HEC_TOKEN_HERE
ENV SC4S_SOURCE_TLS_ENABLE=no
ENV SC4S_DEST_SPLUNK_HEC_TLS_VERIFY=no
ENV SC4S_LISTEN_CISCO_ASA_TCP_PORT=50512
ENV SC4S_LISTEN_CISCO_IOS_TCP_PORT=50514
ENV SC4S_LISTEN_F5_BIGIP_TCP_PORT=50517
ENV SC4S_LISTEN_PALOALTO_PANOS_TCP_PORT=50519
ENV SC4S_LISTEN_CISCO_ASA_UDP_PORT=50512
ENV SC4S_LISTEN_CISCO_ACS_UDP_PORT=50513
ENV SC4S_LISTEN_CISCO_IOS_UDP_PORT=50514
ENV SC4S_LISTEN_CISCO_UCS_UDP_PORT=50515
ENV SC4S_LISTEN_NETAPP_ONTAP_UDP_PORT=50518
ENV SC4S_LISTEN_PALOALTO_PANOS_UDP_PORT=50519
ENV SC4S_LISTEN_F5_BIGIP_UDP_PORT=50517
ENV SC4S_LISTEN_VMWARE_VSPHERE_TCP_PORT=1514
ENV SC4S_ARCHIVE_GLOBAL=no
ENV SC4S_LISTEN_CHECKPOINT_SPLUNK_NOISE_CONTROL=yes
ENV SC4S_DEST_SPLUNK_HEC_FALLBACK_INDEX=shared_ev_infra_prod

EXPOSE 514:514
EXPOSE 514:514/udp
EXPOSE 1514:1514
EXPOSE 1514:1514/udp
EXPOSE 50512:50512
EXPOSE 50513:50513
EXPOSE 50514:50514
EXPOSE 50515:50515
EXPOSE 50516:50516
EXPOSE 50517:50517
EXPOSE 50518:50518
EXPOSE 50519:50519
EXPOSE 50512:50512/udp
EXPOSE 50513:50513/udp
EXPOSE 50514:50514/udp
EXPOSE 50515:50515/udp
EXPOSE 50516:50516/udp
EXPOSE 50517:50517/udp
EXPOSE 50518:50518/udp
EXPOSE 50519:50519/udp

COPY ./sc4s/conf.d/local/context/splunk_metadata.csv /etc/syslog-ng/conf.d/local/context/splunk_metadata.csv
COPY ./sc4s/conf.d/local/destinations/fireeye_nx.conf /etc/syslog-ng/conf.d/local/destinations/fireeye_nx.conf
